
リージョンがバージニア北部になっていたので東京に変更し、VPC、EC2、RDSを再構築しました。

## VPCの作成  
![01](lecture04-image/01.png)　　

## 変更後　　
![01](image04/01.png)  

アベイラビリティゾーンにそれぞれプライベートとパブリックのサブネットを作成。



## EC2
![02](lecture04-image/02.png)
![03](03.png/03.png)  

## 変更後　

![02](image04/02.png)  
![03](image04/03.png)　　
EC2を新しく作成。
## RDS
![05](lecture04-image/05.png)  

## 変更後　

![04](image04/04.png)  

サブネットをプライベートに変更。

## セキュリティ設定
### EC2
![04](lecture04-image/04.png)　　


### 変更後
![05](image04/05.png)

### RDS
![06](lecture04-image/06.png)
![07](lecture04-image/07.png)
　

### 変更後
![06](image04/06.png)
![07](image04/07.png)

## EC2からRDSへ接続
![08](lecture04-image/08.png)  
teratermを利用。　　

ログイン時はファイルに保存したキーペアを使う。　　
`sudo yum install mysql`でMySQLをインストール。　　

`mysql -h (RDSのエンドポイント）-u (マスターユーザー名) -p (マスターパスワード)`を入力し、接続できることを確認。　　  

![08](image04/08.png)

再構築後も接続できることを確認。


## 感想
アベイラビリティゾーンについてあまり理解していなかったので、サブネットがバラバラな状態になっていた。　　

まだまだ確信を持って実行できていない部分があるので、ひとつずつ検証しながら慣れていきたい。





